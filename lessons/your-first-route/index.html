<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Express, Part 1</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->

        <link rel="stylesheet" href="/harvestjs-express/vendor/bootstrap/dist/css/bootstrap.min.css">
        <link rel="stylesheet" href="/harvestjs-express/css/main.css">
        <script src="/harvestjs-express/vendor/modernizr/modernizr.js"></script>
    </head>
    <body>
        <!--[if lt IE 7]>
            <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->

        <!-- Add your site or application content here -->
        <div id="content"><h1>Your First Express Route</h1><p>Now that you have a basic understanding of how routes work, let&#39;s add a new one to the application.</p>
<p>Add a route to handle <code>GET</code> requests to <code>/me</code> in <code>app.js</code>. Don&#39;t worry about including a new route file just yet, we&#39;ll just use the typical express callback, <code>function(req, res) {}</code>. This function will get passed the request, <code>req</code>, and provided with an reference to express&#39; response, <code>res</code>.</p>
<p>In the callback, add <code>res.send(&#39;me&#39;);</code>. Much like we saw in the <code>/user</code> route handler, this will simply output the string in the browser. Visit <a href="http://localhost:3000/me"><a href="http://localhost:3000/me">http://localhost:3000/me</a></a> to confirm that it&#39;s working.</p>
<hr>

<p>Sending strings is all well and good, but it&#39;s not all that practical. Let&#39;s instead have it output some JSON data about yourself.</p>
<p>Express has the ability to sense the type of the data being sent to the browser and encode it correctly. What this means is that we can pass an object literal to <code>res.send</code> and express will send the JSON string to the browser, along with a header saying that the payload is JSON data.</p>
<p>Make an object literal describing yourself, including your <code>name</code>, <code>age</code> in years and anything else you care to include and save it to a variable called <code>myself</code>. An example might look like this:</p>
<pre><code>var myself = {
  name: &#39;Node JS&#39;,
  age: &#39;4&#39;,
  occupation: &#39;scalable web apps&#39;
};</code></pre>
<p>Now, use <code>res.send</code> to send <code>myself</code> and refresh the page in the browser.</p>
<hr>

<p>The response header will include <code>Content-Type:application/json</code>. If you are savvy enough to look for yourself, feel free, otherwise just take my word for it. The point is, we didn&#39;t have to do anything special to get express to send our javascript object as JSON data.</p>
<p>This is the basis for sending data back to a RESTful request. This information will probably come from a database in a real application, but since that data will most likely be represented as a javascript object anyway, this works the same way.</p>
<p>This is just one way to output information. Let&#39;s move on to rendering HTML with views.</p>
<a href="/harvestjs-express/">Back to the index</a></div>

        <!--<script src="/harvestjs-express/vendor/jquery/jquery.min.js"></script>
        <script src="/harvestjs-express/vendor/bootstrap/dist/js/bootstrap.min.js"></script>-->
        <script src="/harvestjs-express/js/plugins.js"></script>
        <script src="/harvestjs-express/js/main.js"></script>
        


        <!-- Google Analytics: change UA-XXXXX-X to be your site's ID. -->
        <script>
            /*
            (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
            function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
            e=o.createElement(i);r=o.getElementsByTagName(i)[0];
            e.src='//www.google-analytics.com/analytics.js';
            r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
            ga('create','UA-XXXXX-X');ga('send','pageview');
            */
        </script>
    </body>
</html>
