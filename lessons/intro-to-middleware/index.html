<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Express, Part 1</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->

        <link rel="stylesheet" href="/harvestjs-express/vendor/bootstrap/dist/css/bootstrap.min.css">
        <link rel="stylesheet" href="/harvestjs-express/css/main.css">
        <script src="/harvestjs-express/vendor/modernizr/modernizr.js"></script>
    </head>
    <body>
        <!--[if lt IE 7]>
            <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->

        <!-- Add your site or application content here -->
        <div id="content"><h1>Intro to Middleware</h1><p>Middleware is a simple, but powerful concept. Middleware is simply a way to add extra handling to requests in your application. Middleware is useful for handling authentication and authorization, sessions and modifications to request data among a whole host of other things.</p>
<p>Middleware works because express executes in sequence, which also means that the order in which you include your middleware is important. For example, if you are using middleware for handling logins and authentication, you&#39;ll want to put it after the body parser, which makes the <code>POST</code> body from form submissions available as an object in express, otherwise you won&#39;t be able to easily parse that information.</p>
<p>Express somes with a number of useful middleware methods out of the box, and you can find out more about them <a href="http://expressjs.com/api.html#middleware">in the docs</a>.</p>
<hr>

<p>The callback syntax of middleware is very similar to the format we saw in the router. Here&#39;s the router callback syntax again:</p>
<p><code>function(req, res) {}</code></p>
<p>And here&#39;s the middleware callback syntax:</p>
<p><code>function(req, res, next) {}</code></p>
<p>The only difference is the inclusion of the <code>next</code> argument. This argument is a function that is called to to allow processing to be passed on the to the next matching handler. What does that look like? Say we have the following:</p>
<pre><code>app.use(function(req, res, next) {
  if (req.params.token) {
    ....
  }
});</code></pre>
<a href="/harvestjs-express/">Back to the index</a></div>

        <!--<script src="/harvestjs-express/vendor/jquery/jquery.min.js"></script>
        <script src="/harvestjs-express/vendor/bootstrap/dist/js/bootstrap.min.js"></script>-->
        <script src="/harvestjs-express/js/plugins.js"></script>
        <script src="/harvestjs-express/js/main.js"></script>
        


        <!-- Google Analytics: change UA-XXXXX-X to be your site's ID. -->
        <script>
            /*
            (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
            function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
            e=o.createElement(i);r=o.getElementsByTagName(i)[0];
            e.src='//www.google-analytics.com/analytics.js';
            r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
            ga('create','UA-XXXXX-X');ga('send','pageview');
            */
        </script>
    </body>
</html>
